<!DOCTYPE html>
<html>
<head>
    <title>InvoiceInsight - 關鍵字設定</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; line-height: 1.6; }
        .container { max-width: 800px; margin: auto; }
        .user-info { position: absolute; top: 10px; right: 20px; }
        .flashes { list-style: none; padding: 0; margin-bottom: 1em; }
        .flashes .success { background-color: #d4edda; color: #155724; padding: 10px; border-radius: 4px; }
        textarea { width: 100%; height: 300px; font-size: 1em; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
        .button-group { margin-top: 1em; }
        .button-group button { padding: 10px 15px; font-size: 1em; cursor: pointer; }
        .button-group a { text-decoration: none; color: #333; padding: 10px 15px; border: 1px solid #ccc; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="user-info">
            Welcome, {{ user.name }} | <a href="{{ url_for('index') }}">主頁</a> | <a href="{{ url_for('logout') }}">Logout</a>
        </div>

        <h1>支出關鍵字設定</h1>
        <p>請在下方編輯您的專屬支出關鍵字，每行一個。這些設定將會被儲存，並在您每次開啟主頁時自動載入。</p>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flashes">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        <form method="POST">
            <textarea id="keywords" name="keywords" placeholder="例如:
冷氣
順茂
醬油">{{ keywords|join('\n') }}</textarea>
            <div class="button-group">
                <button type="submit">儲存設定</button>
                <a href="{{ url_for('index') }}">返回主頁</a>
            </div>
        </form>

    </div>
</body>
</html>